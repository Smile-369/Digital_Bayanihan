<div class="admin-container">
    <h1>Edit Post: <%= post.title %></h1>
    
    <form action="/admin/posts/<%= post.id %>" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="slug">Slug</label>
            <input type="text" id="slug" name="slug" value="<%= post.slug %>" required>
            <small class="form-text">URL-friendly identifier (no spaces, special chars)</small>
        </div>
        
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" value="<%= post.title %>" required>
        </div>
        
        <div class="form-group">
            <label for="author">Author</label>
            <input type="text" id="author" name="author" value="<%= post.author || '' %>">
        </div>
        
        <div class="form-group">
            <label for="publish_date">Publish Date</label>
            <input type="date" id="publish_date" name="publish_date" value="<%= post.publish_date %>" required>
        </div>
        
        <div class="form-group">
            <label>Featured Image</label>
            <% if (post.image_url) { %>
                <div class="current-image">
                    <img src="<%= post.image_url %>" alt="Current featured image" style="max-width: 300px;">
                    <input type="hidden" name="current_image" value="<%= post.image_url %>">
                    <div class="form-check mt-2">
                        <input class="form-check-input" type="checkbox" name="remove_image" id="remove_image">
                        <label class="form-check-label" for="remove_image">Remove current image</label>
                    </div>
                </div>
            <% } else { %>
                <p>No featured image set</p>
                <input type="hidden" name="current_image" value="">
            <% } %>
            
            <div class="mt-3">
                <label for="image">Upload new image</label>
                <input type="file" class="form-control-file" id="image" name="image" accept="image/*">
                <small class="form-text text-muted">Max 2MB (JPEG, PNG, GIF, WEBP)</small>
            </div>
        </div>
        
        <div class="form-group">
            <label for="excerpt">Excerpt</label>
            <textarea class="form-control" id="excerpt" name="excerpt" rows="3" required><%= post.excerpt %></textarea>
        </div>
        
        <div class="form-group">
            <label for="content">Content</label>
            <textarea class="form-control" id="content" name="content" rows="10" required><%= post.content %></textarea>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Update Post</button>
            <a href="/admin/posts" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
